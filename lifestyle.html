<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Health Lifestyle | SOS Healthy Living</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <!-- Animate.css -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!-- Header/Navigation -->
    <header>
        <nav class="navbar navbar-expand-lg navbar-light">
            <div class="container">
                <a class="navbar-brand" href="#">
                    <i class="fas fa-heartbeat me-2"></i>SOS Healthy Living
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="homepage.html">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="nutrition.html" id="nutrition-link">Nutrition</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="mental.html" id="mental-wellness-link">Mental Wellness</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="lifestyle.html" id="healthy-lifestyle-link">Health
                                Lifestyle</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="article.html" id="article-link">Article</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="fitness.html" id="fitness-link">Fitness Tips</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="about.html" id="about-link">About Us</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="contact.html" id="contact-link">Contact Us</a>
                        </li>
                        <button id="login-btn" class="btn btn-primary ms-3">
                            <i class="fas fa-user-circle"></i>
                        </button>
                        <button id="profile-btn" class="btn btn-primary ms-3">
                            <i class="fas fa-user-circle"></i>
                        </button>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero bg-light py-5">
        <div class="container text-center">
            <h2 class="fw-bold mb-3 animate__animated animate__fadeInLeft hero-title">
                Transform Your Life with Healthy Habits
            </h2>
            <p class="lead mb-4 animate__animated animate__fadeInRight hero-subtitle">
                Discover simple yet effective ways to improve your physical and mental well-being.
            </p>
            <div class="mt-3">
                <a href="#healthy-habits" class="btn btn-primary btn-lg animate__animated animate__zoomIn">Learn
                    More</a>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <main class="py-5">
        <div class="container">
            <!-- Why a Healthy Lifestyle Matters -->
            <section class="mb-5">
                <h2 class="fw-bold text-center mb-4">Why a Healthy Lifestyle Matters</h2>
                <p class="lead text-center">Adopting a healthy lifestyle can improve your physical and mental
                    well-being. Here are some tips to get started:</p>
                <div class="row mt-4">
                    <div class="col-md-4 text-center">
                        <i class="fas fa-heartbeat fa-3x text-primary mb-3"></i>
                        <h5>Better Health</h5>
                        <p>Reduce the risk of chronic diseases and improve your overall health.</p>
                    </div>
                    <div class="col-md-4 text-center">
                        <i class="fas fa-smile fa-3x text-primary mb-3"></i>
                        <h5>Improved Mood</h5>
                        <p>Boost your mental health and feel happier every day.</p>
                    </div>
                    <div class="col-md-4 text-center">
                        <i class="fas fa-chart-line fa-3x text-primary mb-3"></i>
                        <h5>Increased Productivity</h5>
                        <p>Stay focused and energized to achieve your goals.</p>
                    </div>
                </div>
            </section>
            <!-- Nutrition Section -->
            <section id="nutrition" class="py-5">
                <div class="container">
                    <div class="text-center mb-5">
                        <h2 class="fw-bold">Nutrition Plans</h2>
                        <p class="lead text-muted">Fuel your body with balanced, nutritious meal plans</p>
                    </div>

                    <div class="row">
                        <div class="col-md-4 mb-4">
                            <div class="meal-plan-card">
                                <img src="img/weight-loss.png" alt="Weight Loss Plan" class="img-fluid">
                                <div class="meal-plan-overlay">
                                    <div class="meal-plan-text">
                                        <h5>Weight Loss Plan</h5>
                                        <p>Calorie-controlled meals that keep you satisfied while helping you shed
                                            pounds.</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-4 mb-4">
                            <div class="meal-plan-card">
                                <img src="img/muscle-building.png" alt="Muscle Building Plan" class="img-fluid">
                                <div class="meal-plan-overlay">
                                    <div class="meal-plan-text">
                                        <h5>Muscle Building Plan</h5>
                                        <p>Protein-rich meals designed to support muscle growth and recovery.</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-4 mb-4">
                            <div class="meal-plan-card">
                                <img src="img/vegetarian.png" alt="Vegetarian Plan" class="img-fluid">
                                <div class="meal-plan-overlay">
                                    <div class="meal-plan-text">
                                        <h5>Vegetarian Plan</h5>
                                        <p>Plant-based recipes packed with nutrients and delicious flavors.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row mt-5">
                        <div class="col-md-6">
                            <h4>Nutritional Tips</h4>
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i> Stay
                                    hydrated by drinking at least 8 glasses of water daily</li>
                                <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i>
                                    Include protein with every meal to support muscle recovery</li>
                                <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i> Eat a
                                    variety of colorful fruits and vegetables</li>
                                <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i> Limit
                                    processed foods and added sugars</li>
                                <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i>
                                    Practice mindful eating to avoid overeating</li>
                            </ul>
                        </div>


                        <div class="col-md-6">
                            <h4>Calculate Your Daily Calories</h4>
                            <div class="card p-4">
                                <form id="calorie-calculator">
                                    <div class="mb-3">
                                        <label for="age" class="form-label">Age</label>
                                        <input type="number" class="form-control" id="age" placeholder="Age">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Gender</label>
                                        <div>
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="radio" name="gender" id="male"
                                                    value="male" checked>
                                                <label class="form-check-label" for="male">Male</label>
                                            </div>
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="radio" name="gender" id="female"
                                                    value="female">
                                                <label class="form-check-label" for="female">Female</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <label for="weight" class="form-label">Weight (kg)</label>
                                        <input type="number" class="form-control" id="weight" placeholder="Weight">
                                    </div>
                                    <div class="mb-3">
                                        <label for="height" class="form-label">Height (cm)</label>
                                        <input type="number" class="form-control" id="height" placeholder="Height">
                                    </div>
                                    <div class="mb-3">
                                        <label for="activity" class="form-label">Activity Level</label>
                                        <select class="form-select" id="activity">
                                            <option value="1.2">Sedentary (little or no exercise)</option>
                                            <option value="1.375">Lightly active (light exercise 1-3 days/week)</option>
                                            <option value="1.55">Moderately active (moderate exercise 3-5 days/week)
                                            </option>
                                            <option value="1.725">Very active (hard exercise 6-7 days/week)</option>
                                            <option value="1.9">Extra active (very hard exercise & physical job)
                                            </option>
                                        </select>
                                    </div>
                                    <button type="submit" class="btn btn-primary w-100">Calculate</button>
                                </form>
                                <div id="calorie-result" class="mt-3 text-center d-none">
                                    <h5>Your Estimated Daily Calories:</h5>
                                    <h3 id="calorie-value" class="text-primary">0</h3>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>


            <!-- Healthy Habits -->
            <section id="healthy-habits">
                <h2 class="fw-bold text-center mb-4 animate__animated animate__fadeInUp">Healthy Habits</h2>
                <div class="row">
                    <div class="col-md-6 mb-4 animate__animated animate__fadeInLeft">
                        <div class="card shadow-sm h-100">
                            <img src="img/diet.png" class="card-img-top" alt="Balanced Diet">
                            <div class="card-body">
                                <h5 class="card-title"><i class="fas fa-apple-alt text-primary me-2"></i> Eat a Balanced
                                    Diet</h5>
                                <p class="card-text">Include plenty of fruits, vegetables, whole grains, and lean
                                    proteins in your meals.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 mb-4 animate__animated animate__fadeInRight">
                        <div class="card shadow-sm h-100">
                            <img src="img/water.png" class="card-img-top" alt="Stay Hydrated">
                            <div class="card-body">
                                <h5 class="card-title"><i class="fas fa-tint text-primary me-2"></i> Stay Hydrated</h5>
                                <p class="card-text">Drink enough water daily to keep your body functioning optimally.
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 mb-4 animate__animated animate__fadeInLeft">
                        <div class="card shadow-sm h-100">
                            <img src="img/sleep.png" class="card-img-top" alt="Get Enough Sleep">
                            <div class="card-body">
                                <h5 class="card-title"><i class="fas fa-bed text-primary me-2"></i> Get Enough Sleep
                                </h5>
                                <p class="card-text">Aim for 7-8 hours of quality sleep every night to recharge your
                                    body and mind.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 mb-4 animate__animated animate__fadeInRight">
                        <div class="card shadow-sm h-100">
                            <img src="img/mindfulness.png" class="card-img-top" alt="Practice Mindfulness">
                            <div class="card-body">
                                <h5 class="card-title"><i class="fas fa-brain text-primary me-2"></i> Practice
                                    Mindfulness</h5>
                                <p class="card-text">Reduce stress by practicing mindfulness, meditation, or yoga
                                    regularly.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Video Section -->
            <section class="py-5">
                <div class="container text-center">
                    <h2 class="fw-bold text-center mb-4 animate__animated animate__fadeInUp">Watch: Tips for a Healthy
                        Lifestyle</h2>
                    <div class="video-container animate__animated animate__zoomIn">
                        <!-- Using a placeholder image if you don't have a custom thumbnail -->
                        <video controls class="rounded shadow-sm" width="100%" poster="img/video-thumbnail.png">
                            <source src="videos/HealthyLifestyle.mp4" type="video/mp4">
                            <source src="videos/HealthyLifestyle.webm" type="video/webm">
                            <source src="videos/HealthyLifestyle.ogg" type="video/ogg">
                            <p>Your browser doesn't support HTML5 video. Here's a <a
                                    href="videos/HealthyLifestyle.mp4">link to the video</a> instead.</p>
                        </video>
                    </div>
                </div>
            </section>

            <section class="text-center py-5 bg-primary text-white">
                <div class="container">
                    <h2 class="fw-bold mb-3 animate__animated animate__fadeInDown">Start Your Journey Today</h2>
                    <p class="lead mb-4 animate__animated animate__fadeInUp">Take the first step towards a healthier and
                        happier you.</p>
                    <a href="fitness.html"
                        class="btn btn-light btn-lg animate__animated animate__pulse animate__infinite">Explore Fitness
                        Tips</a>
                </div>
            </section>
        </div>
    </main>
    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-md-4 mb-4">
                    <h3 class="footer-title">SOS Healthy Living</h3>
                    <p>Your comprehensive resource for balanced nutrition, effective workouts, and holistic wellness
                        approaches.</p>
                    <div class="social-icons">
                        <a href="https://www.facebook.com/profile.php?id=61575000126651"><i
                                class="fab fa-facebook-f"></i></a>
                        <a href="https://www.youtube.com/watch?v=CSjRBBqfhko"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                <div class="col-md-2 mb-4">
                    <h3 class="footer-title">Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="homepage.html">Home</a></li>
                        <li><a href="nutrition.html">Nutrition</a></li>
                        <li><a href="mental.html">Mental Wellness</a></li>
                        <li><a href="article.html">Article</a></li>
                        <li><a href="lifestyle.html">Health Lifestyle</a></li>
                        <li><a href="fitness.html">Fitness Tips</a></li>
                        <li><a href="contact.html">Contact Us</a></li>
                        <li><a href="about.html">About Us</a></li>
                    </ul>
                </div>
                <div class="col-md-3 mb-4">
                    <h3 class="footer-title">Resources</h3>
                    <ul class="footer-links">
                        <li><a
                                href="https://dietyourway.com.my/?srsltid=AfmBOoq43gFuzCkrtVpeV-Q5NB2ukvIbsDMite9t3FqTDudqGB0kLE1s">Meal
                                Plans</a></li>
                        <li><a href="https://www.health-unlimited.com/article_a/270.htm">Healthy Living Guide</a></li>
                        <li><a href="https://anyflip.com/wtvjw/arzq/basic">Healthy and Wellness eBooks</a></li>
                        <li><a href="https://www.calculator.net/fitness-and-health-calculator.html">Fitness and Health
                                Calculators</a></li>
                    </ul>
                </div>
                <div class="col-md-3 mb-4">
                    <h3 class="footer-title">Contact Us</h3>
                    <ul class="footer-links">
                        <li><i class="fas fa-envelope me-2"></i> infosos@healthyliving.com</li>
                        <li><i class="fas fa-phone me-2"></i> (05) 468 8888</li>
                        <li><i class="fas fa-map-marker-alt me-2"></i> Jalan Universiti, 31900 Kampar, Perak</li>
                    </ul>
                </div>
            </div>

            <div class="copyright">
                <p>&copy; 2025 SOS Healthy Living. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Back to Top Button -->
    <a href="#" class="back-to-top" id="back-to-top">
        <i class="fas fa-chevron-up"></i>
    </a>

    <script>

        // Meal Plan Cards Functionality
        document.addEventListener('DOMContentLoaded', function () {
            const mealPlanCards = document.querySelectorAll('.meal-plan-card');

            mealPlanCards.forEach(card => {
                // Add click handler for the whole card
                card.addEventListener('click', function (e) {
                    // Prevent triggering if clicking the button
                    if (!e.target.classList.contains('btn')) {
                        const planTitle = this.querySelector('h5').textContent;
                        showPlanDetails(planTitle);
                    }
                });

                // Add click handler for the View Plan button
                const viewButton = card.querySelector('.btn');
                if (viewButton) {
                    viewButton.addEventListener('click', function (e) {
                        e.stopPropagation(); // Prevent card click
                        const planTitle = this.closest('.meal-plan-card').querySelector('h5').textContent;
                        viewFullPlan(planTitle);
                    });
                }

                // Add hover animation class
                card.addEventListener('mouseenter', function () {
                    this.classList.add('animate__animated', 'animate__pulse');
                });

                card.addEventListener('mouseleave', function () {
                    this.classList.remove('animate__animated', 'animate__pulse');
                });
            });

            function showPlanDetails(planTitle) {
                alert(`Viewing details for: ${planTitle}`);
                // You can replace this with a modal or redirect to a details page
            }

            function viewFullPlan(planTitle) {
                alert(`Redirecting to full plan: ${planTitle}`);
                // You can implement a redirect to the full plan page
            }
        });
    </script>

    <!-- calorie calculator -->
    <script>
        document.getElementById('calorie-calculator').addEventListener('submit', async function (e) {
            e.preventDefault();

            const calculateButton = this.querySelector('button[type="submit"]');
            const resultDiv = document.getElementById('calorie-result');

            try {
                // Show loading state
                calculateButton.innerHTML = '<span class="spinner-border spinner-border-sm me-2"></span>Calculating...';
                calculateButton.disabled = true;

                // Get and validate inputs
                const age = parseFloat(document.getElementById('age').value);
                const weight = parseFloat(document.getElementById('weight').value);
                const height = parseFloat(document.getElementById('height').value);
                const gender = document.querySelector('input[name="gender"]:checked').value;
                const activity = parseFloat(document.getElementById('activity').value);

                // Input validation with specific messages
                if (!age || age < 15 || age > 80) {
                    throw new Error('Please enter a valid age between 15 and 80');
                }
                if (!weight || weight < 30 || weight > 300) {
                    throw new Error('Please enter a valid weight between 30kg and 300kg');
                }
                if (!height || height < 130 || height > 230) {
                    throw new Error('Please enter a valid height between 130cm and 230cm');
                }

                // Calculate BMR with artificial delay to show loading
                await new Promise(resolve => setTimeout(resolve, 1000));

                let bmr = (gender === 'male')
                    ? (10 * weight) + (6.25 * height) - (5 * age) + 5
                    : (10 * weight) + (6.25 * height) - (5 * age) - 161;

                const calories = Math.round(bmr * activity);

                // Display result with animation
                resultDiv.classList.remove('d-none');
                const calorieValue = document.getElementById('calorie-value');
                calorieValue.textContent = calories;
                calorieValue.classList.add('animate__animated', 'animate__fadeIn');

                // Add recommendation text
                const recommendation = document.createElement('p');
                recommendation.className = 'mt-3 text-muted';
                recommendation.textContent = `Based on your ${gender === 'male' ? 'male' : 'female'} profile and ${activity < 1.375 ? 'sedentary' :
                    activity < 1.55 ? 'lightly active' :
                        activity < 1.725 ? 'moderately active' : 'very active'
                    } lifestyle, we recommend spreading these calories across 3-5 meals per day.`;
                resultDiv.appendChild(recommendation);

            } catch (error) {
                // Show error message
                const errorDiv = document.createElement('div');
                errorDiv.className = 'alert alert-danger mt-3 animate__animated animate__shakeX';
                errorDiv.textContent = error.message || 'An error occurred. Please try again.';
                resultDiv.parentNode.insertBefore(errorDiv, resultDiv);

                // Remove error message after 5 seconds
                setTimeout(() => errorDiv.remove(), 5000);
            } finally {
                // Reset button state
                calculateButton.innerHTML = 'Calculate';
                calculateButton.disabled = false;
            }
        });
    </script>
    <script>
        document.querySelectorAll('#calorie-calculator input[type="number"]').forEach(input => {
            input.addEventListener('input', function () {
                this.classList.remove('is-invalid', 'is-valid');

                if (this.value) {
                    const value = parseFloat(this.value);
                    const min = this.id === 'age' ? 15 : this.id === 'weight' ? 30 : 130;
                    const max = this.id === 'age' ? 80 : this.id === 'weight' ? 300 : 230;

                    if (value >= min && value <= max) {
                        this.classList.add('is-valid');
                    } else {
                        this.classList.add('is-invalid');
                    }
                }
            });
        });

    </script>
    <!-- Login Modal -->
    <div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="loginModalLabel">Login</h5>
                    <button type="button" id="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="loginForm">
                        <p>Don't have an account? <a href="register.html" class="text-primary">Register here</a></p>

                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" id="btn-close" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <!-- User Profile Modal -->
    <div class="modal fade" id="profileModal" tabindex="-1" aria-labelledby="profileModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="profileModalLabel">Your Profile</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="profile-card">
                        <div class="text-center mb-4">
                            <img src="img/JohnDoe.png" class="rounded-circle mb-3" alt="Profile Picture" width="150">
                            <h4>John Doe</h4>
                            <span class="badge bg-success">Premium Member</span>
                        </div>

                        <div class="row mb-4">
                            <div class="col-4 text-center">
                                <div class="small text-muted">Workouts</div>
                                <div class="h4">42</div>
                            </div>
                            <div class="col-4 text-center">
                                <div class="small text-muted">Streak</div>
                                <div class="h4">15</div>
                            </div>
                            <div class="col-4 text-center">
                                <div class="small text-muted">Points</div>
                                <div class="h4">1,250</div>
                            </div>
                        </div>

                        <h5>Your Goals</h5>
                        <ul class="list-group mb-4">
                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                Lose weight
                                <span class="badge bg-primary rounded-pill">In Progress</span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                Run 5K
                                <span class="badge bg-success rounded-pill">Achieved</span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                Improve flexibility
                                <span class="badge bg-primary rounded-pill">In Progress</span>
                            </li>
                        </ul>

                        <div class="d-grid gap-2">
                            <button class="nav-item">
                                <a href="#" id="logout" class="nav-link">Logout</a>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Handle dropdown menu actions
        document.addEventListener('click', function (e) {
            if (e.target.id === 'logout') {
                e.preventDefault();
                UserState.logout();
                alert('You have been logged out successfully.');
                location.reload(); // Reload the page to reset the UI
            }

        });

    </script>

<script>
    // Handle close button actions
    document.addEventListener('click', function (e) {
        if (e.target.id === 'btn-close') {
            e.preventDefault();
            location.reload(); // Reload the page to reset the UI
        }

    });

</script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const loginBtn = document.getElementById('login-btn');

            // Check login state on page load
            if (!UserState.isLoggedIn()) {
                // If not logged in, ensure the button opens the login modal
                loginBtn.addEventListener('click', function () {
                    const loginModal = new bootstrap.Modal(document.getElementById('loginModal'));
                    loginModal.show();
                });
            } else {
                // If logged in, update the button to show profile modal
                const userData = UserState.getUserData();
                UserState.updateUIForLoggedInUser(userData);

                // Add event listener for profile modal
                const profileBtn = document.getElementById('profile-btn');
                profileBtn.addEventListener('click', function () {
                    const profileModal = new bootstrap.Modal(document.getElementById('profileModal'));
                    profileModal.show();
                });
            }
        });
    </script>

    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <!-- jQuery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <!-- Chart.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="js/userState.js"></script>
    <!-- Custom JS -->
    <script>
        // Back to top button
        $(window).scroll(function () {
            if ($(this).scrollTop() > 300) {
                $('#back-to-top').addClass('active');
            } else {
                $('#back-to-top').removeClass('active');
            }
        });

        $('#back-to-top').click(function (e) {
            e.preventDefault();
            $('html, body').animate({ scrollTop: 0 }, 500);
        });
    </script>

<script>
    // Login modal
    $('#login-btn').click(function () {
        $('#loginModal').modal('show');
    });

    // Login form submission
    $('#login-form').submit(function (e) {
        e.preventDefault();

        // Show success message and close modal
        alert('Login successful!');
        $('#loginModal').modal('hide');

        // Simulate logged in state
        $('#login-btn').text('My Profile');
        $('#login-btn').attr('id', 'profile-btn');
    });

    // Profile button (after login)
    $(document).on('click', '#profile-btn', function () {
        $('#profileModal').modal('show');
    });

    document.addEventListener('DOMContentLoaded', function () {
        const loginBtn = document.getElementById('login-btn');
        const profileBtn = document.getElementById('profile-btn');

        // Check login state on page load
        if (!UserState.isLoggedIn()) {
            // If not logged in, ensure the button opens the login modal
            loginBtn.style.display = 'block'; // Show login button
            if (profileBtn) profileBtn.style.display = 'none'; // Hide profile button
            loginBtn.addEventListener('click', function () {
                const loginModal = new bootstrap.Modal(document.getElementById('loginModal'));
                loginModal.show();
            });
        } else {
            // If logged in, update the button to show profile modal
            const userData = UserState.getUserData();
            UserState.updateUIForLoggedInUser(userData);

            loginBtn.style.display = 'none'; // Hide login button
            if (profileBtn) profileBtn.style.display = 'block'; // Show profile button


            // Add event listener for profile modal
            const profileBtn = document.getElementById('profile-btn');
            profileBtn.addEventListener('click', function () {
                const profileModal = new bootstrap.Modal(document.getElementById('profileModal'));
                profileModal.show();
            });
        }
    });
</script>

</body>

</html>